<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 900 600">
  <defs>
    <linearGradient id="frontendGrad" x1="0%" y1="0%" x2="0%" y2="100%">
      <stop offset="0%" style="stop-color:#667eea;stop-opacity:1" />
      <stop offset="100%" style="stop-color:#764ba2;stop-opacity:1" />
    </linearGradient>
    <linearGradient id="apiGrad" x1="0%" y1="0%" x2="0%" y2="100%">
      <stop offset="0%" style="stop-color:#11998e;stop-opacity:1" />
      <stop offset="100%" style="stop-color:#38ef7d;stop-opacity:1" />
    </linearGradient>
    <linearGradient id="dbGrad" x1="0%" y1="0%" x2="0%" y2="100%">
      <stop offset="0%" style="stop-color:#ee0979;stop-opacity:1" />
      <stop offset="100%" style="stop-color:#ff6a00;stop-opacity:1" />
    </linearGradient>
    <filter id="shadow" x="-20%" y="-20%" width="140%" height="140%">
      <feDropShadow dx="2" dy="2" stdDeviation="3" flood-opacity="0.3"/>
    </filter>
  </defs>
  
  <!-- Background -->
  <rect width="900" height="600" fill="#1a1a2e"/>
  
  <!-- Title -->
  <text x="450" y="35" text-anchor="middle" fill="#fff" font-family="Arial, sans-serif" font-size="20" font-weight="bold">Arquitetura da API - Normas Consolidadas</text>
  
  <!-- Frontend Section -->
  <rect x="30" y="60" width="140" height="80" rx="10" fill="url(#frontendGrad)" filter="url(#shadow)"/>
  <text x="100" y="95" text-anchor="middle" fill="#fff" font-family="Arial, sans-serif" font-size="12" font-weight="bold">FRONTEND</text>
  <text x="100" y="115" text-anchor="middle" fill="#fff" font-family="Arial, sans-serif" font-size="11">React App</text>
  
  <!-- Arrow Frontend to Gateway -->
  <path d="M 170 100 L 220 100 L 220 115 L 370 115" stroke="#fff" stroke-width="2" marker-end="url(#arrowhead)"/>
  <defs>
    <marker id="arrowhead" markerWidth="10" markerHeight="7" refX="9" refY="3.5" orient="auto">
      <polygon points="0 0, 10 3.5, 0 7" fill="#fff"/>
    </marker>
  </defs>
  
  <!-- API NestJS Section -->
  <rect x="220" y="50" width="450" height="440" rx="15" fill="rgba(255,255,255,0.05)" stroke="url(#apiGrad)" stroke-width="2"/>
  <text x="445" y="75" text-anchor="middle" fill="#38ef7d" font-family="Arial, sans-serif" font-size="14" font-weight="bold">API NestJS</text>
  
  <!-- Gateway -->
  <rect x="375" y="90" width="140" height="50" rx="8" fill="url(#apiGrad)" filter="url(#shadow)"/>
  <text x="445" y="120" text-anchor="middle" fill="#fff" font-family="Arial, sans-serif" font-size="10" font-weight="bold">Gateway/CORS</text>
  
  <!-- Arrow Gateway to Modules -->
  <path d="M 445 140 L 445 155" stroke="#38ef7d" stroke-width="2" fill="none" opacity="0.6"/>
  
  <!-- Modules Row 1 -->
  <rect x="240" y="160" width="95" height="45" rx="6" fill="#2d3748" stroke="#38ef7d" stroke-width="1"/>
  <text x="287" y="187" text-anchor="middle" fill="#fff" font-family="Arial, sans-serif" font-size="9">Auth Module</text>
  
  <rect x="345" y="160" width="95" height="45" rx="6" fill="#2d3748" stroke="#38ef7d" stroke-width="1"/>
  <text x="392" y="187" text-anchor="middle" fill="#fff" font-family="Arial, sans-serif" font-size="9">Normas Module</text>
  
  <rect x="450" y="160" width="95" height="45" rx="6" fill="#2d3748" stroke="#38ef7d" stroke-width="1"/>
  <text x="497" y="187" text-anchor="middle" fill="#fff" font-family="Arial, sans-serif" font-size="9">Aprovações</text>
  
  <rect x="555" y="160" width="95" height="45" rx="6" fill="#2d3748" stroke="#38ef7d" stroke-width="1"/>
  <text x="602" y="187" text-anchor="middle" fill="#fff" font-family="Arial, sans-serif" font-size="9">Users Module</text>
  
  <!-- Modules Row 2 -->
  <rect x="240" y="220" width="95" height="45" rx="6" fill="#2d3748" stroke="#38ef7d" stroke-width="1"/>
  <text x="287" y="247" text-anchor="middle" fill="#fff" font-family="Arial, sans-serif" font-size="9">Analytics</text>
  
  <rect x="345" y="220" width="95" height="45" rx="6" fill="#2d3748" stroke="#38ef7d" stroke-width="1"/>
  <text x="392" y="247" text-anchor="middle" fill="#fff" font-family="Arial, sans-serif" font-size="9">Scrapers</text>
  
  <rect x="450" y="220" width="95" height="45" rx="6" fill="#2d3748" stroke="#38ef7d" stroke-width="1"/>
  <text x="497" y="247" text-anchor="middle" fill="#fff" font-family="Arial, sans-serif" font-size="9">Crawlers</text>
  
  <rect x="555" y="220" width="95" height="45" rx="6" fill="#2d3748" stroke="#38ef7d" stroke-width="1"/>
  <text x="602" y="247" text-anchor="middle" fill="#fff" font-family="Arial, sans-serif" font-size="9">Management Sys</text>
  
  <!-- Database Service -->
  <rect x="340" y="290" width="210" height="55" rx="10" fill="#4a5568" stroke="#38ef7d" stroke-width="2" filter="url(#shadow)"/>
  <text x="445" y="313" text-anchor="middle" fill="#fff" font-family="Arial, sans-serif" font-size="11" font-weight="bold">Database Service</text>
  <text x="445" y="330" text-anchor="middle" fill="#a0aec0" font-family="Arial, sans-serif" font-size="9">Query Translation Layer</text>
  
  <!-- Single arrow from modules area to Database Service -->
  <path d="M 445 270 L 445 290" stroke="#38ef7d" stroke-width="2" fill="none" opacity="0.6" marker-end="url(#arrowGreen)"/>
  <defs>
    <marker id="arrowGreen" markerWidth="8" markerHeight="6" refX="7" refY="3" orient="auto">
      <polygon points="0 0, 8 3, 0 6" fill="#38ef7d"/>
    </marker>
  </defs>
  
  <!-- Database Layer Section -->
  <rect x="220" y="390" width="450" height="120" rx="15" fill="rgba(255,255,255,0.05)" stroke="url(#dbGrad)" stroke-width="2"/>
  <text x="280" y="415" text-anchor="start" fill="#ff6a00" font-family="Arial, sans-serif" font-size="12" font-weight="bold">Database Layer</text>
  
  <!-- Arrow DB Service to Databricks (inside Database Layer) -->
  <path d="M 445 345 L 445 420" stroke="#ff6a00" stroke-width="2" marker-end="url(#arrowOrange)"/>
  <defs>
    <marker id="arrowOrange" markerWidth="10" markerHeight="7" refX="9" refY="3.5" orient="auto">
      <polygon points="0 0, 10 3.5, 0 7" fill="#ff6a00"/>
    </marker>
  </defs>
  
  <!-- Databricks inside Database Layer -->
  <ellipse cx="445" cy="455" rx="100" ry="35" fill="url(#dbGrad)" filter="url(#shadow)"/>
  <text x="445" y="450" text-anchor="middle" fill="#fff" font-family="Arial, sans-serif" font-size="11" font-weight="bold">Azure Databricks</text>
  <text x="445" y="465" text-anchor="middle" fill="rgba(255,255,255,0.8)" font-family="Arial, sans-serif" font-size="9">SQL Warehouse</text>
  
  <!-- Tables info -->
  <rect x="700" y="400" width="170" height="170" rx="8" fill="rgba(255,255,255,0.05)" stroke="#ff6a00" stroke-width="1"/>
  <text x="785" y="420" text-anchor="middle" fill="#ff6a00" font-family="Arial, sans-serif" font-size="10" font-weight="bold">Tabelas</text>
  <text x="710" y="445" fill="#a0aec0" font-family="Arial, sans-serif" font-size="9">• tb_normas_consolidadas</text>
  <text x="710" y="465" fill="#a0aec0" font-family="Arial, sans-serif" font-size="9">• tb_usuarios</text>
  <text x="710" y="485" fill="#a0aec0" font-family="Arial, sans-serif" font-size="9">• tb_normas_aprovacoes</text>
  <text x="710" y="505" fill="#a0aec0" font-family="Arial, sans-serif" font-size="9">• tb_health_scrappers</text>
  <text x="710" y="525" fill="#a0aec0" font-family="Arial, sans-serif" font-size="9">• tb_crawlers_manual</text>
  <text x="710" y="545" fill="#a0aec0" font-family="Arial, sans-serif" font-size="9">• management_systems_*</text>
  
  <!-- Arrow Databricks to Tables -->
  <path d="M 545 455 L 700 455" stroke="#ff6a00" stroke-width="1" stroke-dasharray="5,5"/>
  
  <!-- Legend -->
  <rect x="30" y="510" width="170" height="80" rx="8" fill="rgba(255,255,255,0.05)"/>
  <text x="115" y="530" text-anchor="middle" fill="#fff" font-family="Arial, sans-serif" font-size="10" font-weight="bold">Legenda</text>
  <rect x="40" y="545" width="15" height="10" fill="url(#frontendGrad)"/>
  <text x="60" y="554" fill="#a0aec0" font-family="Arial, sans-serif" font-size="9">Frontend</text>
  <rect x="40" y="560" width="15" height="10" fill="url(#apiGrad)"/>
  <text x="60" y="569" fill="#a0aec0" font-family="Arial, sans-serif" font-size="9">API Layer</text>
  <rect x="110" y="545" width="15" height="10" fill="url(#dbGrad)"/>
  <text x="130" y="554" fill="#a0aec0" font-family="Arial, sans-serif" font-size="9">Database</text>
</svg>